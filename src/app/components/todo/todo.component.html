<section class="todo">
    <div class="container">
        <div class="row p-2">
            <div class="col-lg-8 col-md-6 col-xs-6">
                <span class="element p-3" [ngClass]="todo.completed? 'completedTask' : 'notCompletedTask'">{{todo.todo}}
                </span>
            </div>
            <div class="col-lg-4 col-md-6 col-xs-6 actions">

                <button type="button" class="btn mx-1">
                    <i *ngIf="currentUrl === 'todos' || currentUrl === 'favouritesTodos'" class="fa-regular fa-star "
                        (click)="favouriteTodo(todo.id)" [ngClass]="todo.favourite? 'fa-solid' : 'fa-sharp'"></i>
                </button>

                <button type="button" class="btn mx-1">
                    <i *ngIf="currentUrl === 'todos' || currentUrl === 'completedTodos'" class="fa-square-check "
                        (click)="completeTodo(todo.id)" [ngClass]="todo.completed? 'fa-solid' : 'fa-regular'"></i>
                </button>

                <button *ngIf="currentUrl === 'todos'" id='deleteIcon' type="button" class="btn mx-1"
                    data-bs-toggle="modal" [attr.data-bs-target]="'#exampleModal-' + todo.id"><i
                        *ngIf="currentUrl === 'todos'" class="fa-solid fa-trash-can "></i>
                </button>

            </div>
        </div>
    </div>
</section>


<!-- Confirm delete Modal -->

<div class="modal fade" [id]="'exampleModal-' + todo.id" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">{{todo.todo}}</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to delete this item?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="button" class="btn btn-danger" data-bs-toggle="modal"
                    [attr.data-bs-target]="'#deletedModal-' + todo.id" (click)="deleteTodo(todo.id)">Delete
                    Todo</button>
            </div>
        </div>
    </div>
</div>


<!-- Deleted successfuly -->
<div class="modal fade" [id]="'deletedModal-' + todo.id" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p> {{todo.todo}} task has bees deleted successfuly .</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>